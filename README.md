# Minecraft regenerator

## 概要
指定された一部のチャンクを除いて,指定されたチャンクがある.mcaファイルからチャンクを削除します。

資源ワールドの自動再生成に使うことを想定しています。

サーバーを止めておかないと消せません。(消せるけどサーバーが反映してくれないと思う)
## 使い方
### coonfig/defaul.mjsを適宜編集
```json
{
  "every": "Number [週に何回実行するか※]",
  "serverPath": "String [サーバーの実行ファイルがある場所]",
  "worlds": [
    {
      "name": "String [ワールドの名前]",
      "keepChunk": [
        {
          "x": "Number [残したいチャンクのx座標]",
          "y": "Number [残したいチャンクのy座標]"
        },
        {
          "x": "Number [残したいチャンクのx座標]",
          "y": "Number [残したいチャンクのy座標]"
        }
      ]
    },
    {
      "name": "String [ワールドの名前]",
      "keepChunk": [
        {
          "x": "Number [残したいチャンクのx座標]",
          "y": "Number [残したいチャンクのy座標]"
        },
        {
          "x": "Number [残したいチャンクのx座標]",
          "y": "Number [残したいチャンクのy座標]"
        }
      ]
    }
  ]
}
```
※このスクリプト自体に定期実行する機能はないです。

cronなりtask schedulerなりで定期実行してください。

完全におま環ですが私が運営しているサーバーでは毎日バックアップスクリプトを動かしていて,その時についでにこのスクリプトを呼ぶという運用をしているのですが,さすがに毎日再生成するのはやりすぎだと思うのでこのスクリプト側で制限をかけたかったためこういう設定項目を設けました。
```Javascript
  if(eval(every)){
    //実行
  }
```
って感じの実装になっているので呼んだら実行してほしいなら`true`とか,月一実行してほしいなら`new Date().getDate() == 1`とかすればいいと思います。
### 削除実行
`npm run remove`

## 余談
Windowsでしか動作確認してないですけどOS依存なことはしてないはずなので`node ./src/index.mjs`とかで動くと思います。